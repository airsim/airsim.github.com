<!doctype html><head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutorials</title>
<meta name="viewport" content="width=1300" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/styles.css"  />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/social.css"  />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/colors-page.css"  />
<script type="text/javascript" src="../../common/style/assets/javascript.js"></script>
<script type="text/javascript" src="../../common/style/assets/js/jquery.min.js"></script>
<script type="text/javascript" src="../../common/style/assets/js/jquery-ui-1.9.1.custom.min.js"></script>
<script>
var jquery = jQuery;
jquery(function() {
        jquery( "#accordion" ).accordion({
            collapsible: true,
            active: false,
            heightStyle:"content"
        });
    });
</script>
<script type="text/javascript" src="../../common/style/assets/js/elixir.js"></script>
<script type="text/javascript" src="../../common/style/assets/js/home-button.js"></script>
<script type="text/javascript" src="../../common/jsbean.js"></script>
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/jquery-ui-1.9.1.custom.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/sidebar/sidebar-right.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/sidebar/sidebar-stripe-off.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/width/width-960px.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/title-bar/title-bar-80px.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/title/title-lucida.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/title/title-left.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/slogan/slogan-hidden.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/navigation/nav-font-size-14px.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/navigation/nav-weight-normal.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/navigation/nav-selected-blue.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec1-color-picker.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec1-overlay-none.css" />
<script type="text/javascript" src="../../common/style/assets/js/extraContent2-icons/ec2-icon-chevron-down.js"></script>
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec6-position-bottom.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec6-padding-30.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec6-button-right.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/background/bkg_overlay_none.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/content-list-styles/list-plain.css" />
<link rel='stylesheet' type='text/css' media='all' href='../../common/plugins/stacks/stacks.css' />
<!--[if IE]>
			<link rel='stylesheet' type='text/css' media='all' href='../../common/plugins/stacks/stacks_ie.css' />
		<![endif]-->
<link rel='stylesheet' type='text/css' media='all' href='files/tutorials.css'/>
<script type='text/javascript' charset='utf-8' src='files/tutorials.js'></script>
<!--[if gte IE 9]>
		  <style type="text/css">
		    nav#main-navigation, #header-overlay {
		       filter: none;
		    }
		  </style>
		<![endif]-->
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>  
       	<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/ie.css"  />  
		<![endif]-->
</head><body>
<div id="extraContent6">
  <div id="modal-close-button" class="shadow icon-remove"></div>
  <div id="extraContainer6"></div>
  <div class="clearer"></div>
</div>
<div id="title-bar">
  <div class="inner">
    <div id="site-logo"><img src="../../common/images/airsim_logo.png" width="102" height="102" alt="Site logo"/></div>
    <h1>Travel Simulator</h1>
    <h2></h2>
  </div>
  <a href="https://github.com/airsim/metasim" target="_blank">
  	<img align="right" src="../../common/images/forkme_ribbon.png" width="102" height="102" alt="fork_me_ribbon"/>
  </a>
</div>
<nav id="main-navigation" class="shadow">
  <div class="inner">
    <div id="social-badges"><a href="http://www.facebook.com/tvlsim" class="fb" onClick=""></a><a href="https://twitter.com/TravelSimulator" class="twitter" onClick=""></a><a href="http://fr.linkedin.com/in/airsim" class="linkedin" onClick=""></a></div>
    <ul>
      <li><a href="../../index.html" rel="self">Home</a></li>
      <li><a href="#" rel="self" class="currentAncestor">Documentation</a>
        <ul>
          <li><a href="../user_manual/user_manual.html" rel="self">User Manual</a></li>
          <li><a href="../getting_started/getting_started.html" rel="self">Getting Started</a></li>
          <li><a href="tutorials.html" rel="self" class="current">Tutorials</a></li>
          <li><a href="../faq/faq.html" rel="self">FAQ</a></li>
        </ul>
      </li>
      <li><a href="#" rel="self">Community</a>
        <ul>
          <li><a href="../../community/contribute/contribute.html" rel="self">Contribute</a></li>
          <li><a href="../../community/forum/forum.html" rel="self">Forum</a></li>
          <li><a href="../../community/blog/blog.html" rel="self">Blog</a></li>
          <li><a href="../../community/team/team.html" rel="self">Team</a></li>
        </ul>
      </li>
      <li><a href="../../download/download.html" rel="self">Download</a></li>
      <li><a href="../../about/about.html" rel="self">About</a></li>
      <li><a href="../../online_sim/onlinedemo.html" rel="self">Online Demo</a></li>
    </ul>
  </div>
  <div class="clearer"></div>
</nav>
<div id="header">
  <div id="header-overlay">
    <div class="inner">
      <div id="extraContent1">
        <div id="extraContainer1"></div>
        <div class="clearer"></div>
      </div>
    </div>
  </div>
</div>
<div id="extraContent2-trigger"> <i></i> </div>
<div id="extraContent2">
  <div class="inner">
    <div id="extraContainer2"></div>
    <div class="clearer"></div>
  </div>
</div>
<div id="container" class="inner">
  <div id="sidebar-container">
    <div id="sidebar" class="shadow">
      <h3 id="sidebar-title"></h3>
      <h5>Travel Simulator now</h5>
      <br />
      You want to use Travel Simulator right away to  have a better idea of what it is? Try out the <a href="../../online_sim/onlinedemo.html">Online version</a>.<br />
      <br />
      <br />
      <h5>Specific question?</h5>
      <br />
      The <a href="../faq/faq.html">F.A.Q.</a> page is here to help. There is a good chance that your questions will find their answers there.
      <div id="archives"> </div>
      <div id="extraContent4">
        <div id="extraContent4TopperImage"></div>
        <div id="extraContainer4"></div>
        <div class="clearer"></div>
      </div>
      <div class="sidebar-pop-shadow"></div>
    </div>
    <div id="extraContent3">
      <div id="extraContainer3"></div>
    </div>
  </div>
  <div id="content" class="shadow">
    <div id="extraContent5">
      <div id="extraContainer5" class="clearfix"></div>
    </div>
    <div id='stacks_out_47_page6' class='stacks_top'>
      <div id='stacks_in_47_page6' class='stacks_in'>
        <div id='stacks_out_58_page6' class='stacks_out'>
          <div id='stacks_in_58_page6' class='stacks_in'>
            <h3>Tutorials</h3>
          </div>
        </div>
        <div id='stacks_out_51_page6' class='stacks_out'>
          <div id='stacks_in_51_page6' class='stacks_in'>
            <div class='stacks_div stacks_float_left'>
              <div class='centered_image' ></div>
            </div><br />
            	This tutorial section will give you step by step instructions and exemples on how to use all the modules. <br/><br/>
                
             	The first mandatory tutorial is the <a href="../getting_started/getting_started.html">getting started</a> procedure you should have already followed at this step. Once the needed Travel Simulator packages are correctly installed, the following tutorials are what you need!<br/><br />
                
                For general information and a technical description of the different modules head to the <a href="../user_manual/user_manual.html">user manual</a> page once you are finished here. <br/><br/>
                Also for focused information on precise problems make sure you have a look at the <a href="../faq/faq.html">F.A.Q.</a> <br/><br/>
             	<div id="accordion" style="padding:0px">
            	<h3 style="color:#FFF;">General knowledge</h3>
            	<div>
            	Whatever the flavour chosen, those tutorials will help. The only difference is the way to launch binaries. Let's take for instance the whole simulator component named <strong>TvlSim</strong>.</br></br>
            	If you are working within the <strong>pre-configured Virtual Box</strong>, the command is independent from the current directory as the simulator libraries have been installed within the Fedora package:
            	<pre>tvlsim</pre>
            	If you chose to work within the <strong>packaged metasim component</strong> (where all simulation modules are available), the correct way to launch the binary is:
            	<pre>cd ~/dev/metasimgit/workspace/build/tvlsim/tvlsim</br>./tvlsim</pre>
            	Finally, when dealing with all the <strong>modules independently</strong>, you can choose:
            	<ul class="disc">
                	<li>to run the local binary version:<br/></li><pre>cd ~/dev/tvlsimgit/tvlsim<br/>./simulate</pre>
            		<li>or to run the installed version:<br/></li><pre>cd ~/dev/deliverie/tvlsim-99.99.99/bin/<br/>./simulate</pre>
            	</ul>
            	After running the script, you can check that a log file, named after the script, has been created in the current directory and have a look at it:
            	<pre>ls</br>emacs simulate.log</pre>
            	</div>
            	<h3 style="color:#FFF;">Common commands for basic batches</h3>
            	<div>
            	From here, we choose to work in the directory where the needed binary is present. Please refer to the <a href="javascript:accordionShowSection(0)">General knowledge part</a> if you are not sure where to find the binaries.
            	<ul class="disc">
            		<li>Display the help:<br/><pre>./simulate --help</pre></li>
            		<li>Run the scenario corresponding to a default built-in BOM tree:<br/><pre>./simulate --builtin</pre></li>
            		<li>Run the scenario corresponding to default input files:<br/><pre>./simulate</pre></li>
            	</ul><br/>
            		</div>
            	<h3 style="color:#FFF;">Common commands for interactive batches</h3>
            	<div>
            	In this part, we are working in the directory where the needed binary is present. Please refer to the <a href="javascript:accordionShowSection(0)">General knowledge part</a> part if you are not sure where to find the binaries.</br></br>
            	The interactive scripts can be launched exactly as the non-interactive ones:
            	<pre>./tvlsim</pre>
            	At this step, you should see something similar to the following screen shot:<br/>
            	<img class="screenshot" src="files/ss_tvlsim_interactive.jpg" width="457" height="96" alt="Test result"/><br/>
            	To display the help of the interactive scenario:<br/>
            	<pre>help</pre>
            	To quit the interactive scenario:
            	<pre>quit</pre>
            	</div>
            	<h3 style="color:#FFF;">Building correct simulation inputs</h3>
            	<div>
            	The Business Object Model tree (now referred to as the BOM tree) can be seen as an easier alternative to the <a href="../user_manual/user_manual.html?accordion?2">simulation input files</a>.</br> 
            	It contains exactly the same information as those files: airlines, schedules, fares, yield rules, ...</br>
            	There are many ways of giving your simulation inputs:<br/>
            	<ul class="disc">
                	<li><a href="javascript:showPopup('#DEFAULT_BOM','How to use the default BOM tree?')">using the default BOM tree.</a></li>
	            	<li><a href="javascript:showPopup('#CREATING_BOM','How to create your own BOM tree?')">creating your own BOM tree.</a></li>
	            	<li><a href="javascript:showPopup('#EXISTING_FILES','How to use existing input files?')">using existing input files.</a></li>
                	<li><a href="javascript:showPopup('#CREATING_FILES','How to create your own input files?')">creating your own input files.</a></li>
            	</ul>
				</div>
            </div>
		  </div>	
        </div>
      </div>
    </div>
    <div class="clearer"></div>
    <div id="breadcrumb"></div>
    <div class="content-pop-shadow"></div>
  </div>
  </div>
  <footer>
  	<div id="FooterOne" class="footerlinks"><table width="80%" border="1" cellspacing="10">
      <tr>
        <td><a href="http://tvlsim.com/documentation/getting_started/getting_started.html"><h5>Documentation</h5></a></td>
        <td><a href="http://tvlsim.com/community/contribute/contribute.html"><h5>Community</h5></a></td>
        <td><a href="http://tvlsim.com/download/download.html"><h5>Download</h5></a></td>
        <td><a href="http://tvlsim.com/about/about.html"><h5>About</h5></a></td>
        <td><a href="http://tvlsim.com/online_sim/onlinedemo.html"><h5>Demo</h5></a></td>
      </tr>
      <tr>
        <td><a href="http://tvlsim.com/documentation/user_manual/user_manual.html">User Manual</a></td>
        <td><a href="http://tvlsim.com/community/contribute/contribute.html">Contribute</a></td>
      </tr>
      <tr>
        <td><a href="http://tvlsim.com/documentation/getting_started/getting_started.html">Getting Started</a></td>
        <td><a href="http://tvlsim.com/community/forum/forum.html">Forum</a></td>
      </tr>
      <tr>
        <td><a href="http://tvlsim.com/documentation/tutorials/tutorials.html">Tutorials</a></td>
        <td><a href="http://tvlsim.com/community/blog/blog.html">Blog</a></td>
    
      </tr>
      <tr>
        <td><a href="http://tvlsim.com/documentation/faq/faq.html">F.A.Q.</a></td>
        <td><a href="http://tvlsim.com/community/team/team.html">Team</a></td>
      </tr>
    </table>
    </div>
  	<div id="FooterTwo">&copy; 2012 Travel Simulator is licensed under Apache 2.0 license</div>

  </footer>
</div>
<div id="DEFAULT_BOM" style="display:none">
To familiarize yourself with the default BOM tree, load the StdAir batch directory (for instance, if you are working within the metasim environment):
<pre>cd ~/metasimgit/workspace/build/stdair/stdair/</pre>
Then launch it with the default BOM tree option '-b':
<pre>./stdair -b</pre>
If you have a look at the log file (called after the launched batch), you can find the following <a href="javascript:showPopup('#BOM_TREE', 'BOM tree structure', 930, 770)">BOM tree structure</a>, in this exact order :
<ul class="disc">
    <li>a BOM tree root at the top of the tree</li>
	<li>some inventory objects at level one</li>
	<li>each inventory (characterised by an airline code) contains one or more flight dates (i.e. a flight number and an associated date)</li>
	<li>each flight date is composed of leg date and segment date objects</li>
	<li>each leg and segment contains associated cabins</li>
	<li>each segment cabin is composed of at least one fare family, whcih is in turn composed of one or more booking classes</li>
</ul>
To discover the second part of the <a href="javascript:showPopup('#BOM_TREE', 'BOM tree structure', 930, 770)">BOM tree structure</a>, you can launch SimFQT for instance:
<pre>cd ~/metasimgit/workspace/build/simfqt/simfqt/</br>./simfqt -b</pre>
This batch is an interactive one, try 'help' to obtain all the existing commands, and then 'list' to discover all the O&Ds and departure dates for which some fare rules are applicable.</br>
Then 'quit' the interactive batch and open the log file named 'simfqt.log'. At the beginning of the file, we find the BOM root display:
<ul class="disc">
	<li>a BOM tree root at the top of the tree</li>
	<li>at level one we find some airport pairs (representing the origin and the destination of existing travels)</li>
	<li>at the lower level, we have date period, followed by point-of sale and channel options, followed by time period</li>
	<li>then we find the fares applicable and the corresponding options (saturday night, change fees, refundable criterion)</li>
    <li>finally, we have the airline codes and booking classes for which each fare rule is applicable</li>
</ul>
</div>
<div id="CREATING_BOM" style="display:none">
To understand how to create your own BOM tree, do not hesitate to have a look into the C++ file called CmdBomManager.cpp located in the following directory:
<pre>cd ~/metasimgit/workspace/src/stdair/stdair/command/</pre>
Let us create our own BOM tree now. First, we need a BOM root object:
<pre>const BomRootKey myBomRootKey ("My first Bom Root");</br>BomRoot& myOwnBomRoot = FacBom&#60BomRoot>::instance().create();</pre>
Then, we can create an inventory object:
<pre>const AirlineCode_T myAirlineCodeBA ("BA");</br>const InventoryKey myInventoryKeyBA (myAirlineCodeBA);</br>BomRoot& myOwnBomRoot = FacBom&#60Inventory>::instance().create(myInventoryKeyBA);</pre>
</div>
<div id="EXISTING_FILES" style="display:none">
When running a batch with no option specified, predefined default files are parsed and used to construct the BOM tree. 
</div>
<div id="CREATING_FILES" style="display:none">
In this tutorial, we are going to create our own input files one by one.</br>
Please first read the <a href="../user_manual/user_manual.html?accordion?2">simulation input files description</a> to familiarize yourself with each type of file.</br></br>
<h3>How to create a schedule input file?</h3>
<div>
Let us say we want to simulate the Singapour airline flight number 11 from SIN to BKK every day of the 2011 year. Our first network rule looks like:
<pre>SQ; 11; 2011-01-01; 2011-12-31; 1111111; SIN; BKK; ... </pre>
Let us add some details about departure time, arrival time and elapsed flight (in this exact order):
<pre>SQ; 11; 2011-01-01; 2011-12-31; 1111111; SIN; BKK; 08:20; 11:00; 07:40; ... </pre>
We know that the aircraft is composed of only one Economy cabin 'Y' with 300 seats available.
<pre>SQ; 11; 2011-01-01; 2011-12-31; 1111111; SIN; BKK; 08:20; 11:00; 07:40; Y; 300; ... </pre>
The economy cabin is itself composed of 2 booking classes 'Y' and 'M':
<pre>SQ; 11; 2011-01-01; 2011-12-31; 1111111; SIN; BKK; 08:20; 11:00; 07:40; Y; 300; Y; YM; ... </pre>
We have two fare families '1' and '2'. The first one contains the 'Y' booking class and the second one the 'M' booking class:
<pre>SQ; 11; 2011-01-01; 2011-12-31; 1111111; SIN; BKK; 08:20; 11:00; 07:40; Y; 300; Y; YM; 1; ... Y; 2; ... M;</pre>
Because we take into account fare families here, we need to add a fare family disutility curve and a FRAT5 one for each fare family.
Some instances are available in the frat5.csv and ffDisutility.csv files in the StdAir samples directory. We finally obtain our first network rule:
<pre>SQ; 11; 2011-01-01; 2011-12-31; 1111111; SIN; BKK; 08:20; 11:00; 07:40; Y; 300; Y; YM; 1;  F1; D1; Y; 2; F2; D2;</pre>
</div>
<h3>How to create a demand input file?</h3>
<div>
Now that we agreed on the flight to simulate, we need to generate the demand, that is to say the customers wishing to purchase seat(s) on the concerned flight.</br>
This is the objective of the demand input file. This last one is organised around lines, each line representing a demand stream.
Let us focus on the first demand stream:</br>
we know we want to generate passengers wishing to travel from Singapour to Bangkok every day of the year 2011 (this matches exactly the Singapour flight numbered 11):
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; ... </pre>
Those passengers are wishing to travel in the Economy cabin 'Y', let us arbitrary decide that 70% of those passengers are located in Singapour when willing to purchase a ticket,</br>20% of them are in Bangkok and the remaining 10% elsewhere ('row' stands for the rest of the world):
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; ... </pre>
Let us now arbitrarily define the channel distribution:
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; ... </pre>
The sum of the channel distribution is as expected equal to 1. Let us now define the trip type:
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; ... </pre>
For 60% of the passengers, the Singapour-Bangkok flight is the outbound flight of their trip, for 20% of them it is the inbound flight of their trip and for the last 10% it is just a one-way trip.
</br>Then, we find the stay duration ditribution:
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; 0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35;... </pre>
35% of the passengers are staying at the destination location 5 days, 15% are only staying 4 days, ...</br>
After that, we encounter the frequent flyer status (P=Platinum, G=Gold, S=Silver, M=Member, N=None) of the potential customers:
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; 0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35; P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; ... </pre>
Next, we find restriction information:
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; 0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35; P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; 0.5; 50; 06; 50; ... </pre>
50% of the passengers are accepting a restriction regarding the change fees whereas the other 50% are refusing such restriction (in the hard-restriction custumer choice model) or see this restriction</br>
as a disutility value which is added to the actual fare (in the disutility customer choice model). Then we find the continuous cumulative distribution about preferred departure time:
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; 0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35; P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; 0.5; 50; 06; 50; 06:0, 07:0.1, 09:0.3, 17:0.4, 19:0.8, 20:0.95, 22:1; ... </pre>
In a more explicit way, we are saying that no passenger is wishing to travel before 6 in the morning, 10% are wishing to travel before 7 am, 30% are wishing to leave before 9 am (so 20% are</br>wishing to take off between 7 and 9 am), ... Let us now add information about the willingness-to-pay of such passengers: such passengers are at least ready to pay 200 (arbitrary currency) for their travel.
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; 0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35 P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; 0.5; 50; 06; 50; 06:0, 07:0.1, 09:0.3, 17:0.4, 19:0.8, 20:0.95, 22:1; 200; ... </pre>
Let us add the value of time in the customer point of view: what is the cost if he leaves one hour later than his preferred departure time:
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; 0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35; P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; 0.5; 50; 06; 50; 06:0, 07:0.1, 09:0.3, 17:0.4, 19:0.8, 20:0.95, 22:1; 200; 15:0, 60:1; ... </pre>
Let us now specify the arrival pattern of customers: 20% of them are making their request between one year and 40 days before departure, 60% of them have make their requests when we reach the date of 20 days before departure, ...:
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; 0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35; P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; 0.5; 50; 06; 50; 06:0, 07:0.1, 09:0.3, 17:0.4, 19:0.8, 20:0.95, 22:1; 200; 15:0, 60:1; 330:0, 40:0.2, 20:0.6, 1:1; ... </pre>
Finally, we give the distribution of the number of requests: let us take here a normal law with mean 100 and standard deviation 10 (specified as N, 100.0, 10.0):
<pre>2011-01-01; 2011-12-31; 1111111; SIN; BKK; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2; 0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35; P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; 0.5; 50; 06; 50; 06:0, 07:0.1, 09:0.3, 17:0.4, 19:0.8, 20:0.95, 22:1; 200; 15:0, 60:1; 330:0, 40:0.2, 20:0.6, 1:1; N, 100.0, 10.0;</pre>
</div>
<h3>How to create a fare input file?</h3>
<div>
If we refer to the schedule input build, we deduce we need one or more fare rules:
<ul class="disc">
	<li>whose origin-destination couple is "SIN, BKK"</li>
	<li>valid for every day in the 2011 year</li>
	<li>valid for a flight departure time of 8:20 in the morning</li>
	<li>valid for the operating airline "SQ", which is likely to be the pricing airline </li>
</ul>
We can deduce a part of our first fare rule:
<pre>1; SIN; BKK; ??; 2011-01-01; 2011-12-31; 00:00; 23:59; ???; ?; ??; ?; ?; ?; ?; ?; ????; SQ; ?; </pre>
In this case, we are not filtering requests according to departure time.</br>
In a second time, if we refer to the demand input file, we need to filter requests according to the stay duration and the advance purchase: for now, let us put "0" to embrace all the requests possible. We need as well to filter according to the point-of-sale and the channel: let us put "DC" to embrace all the different channels and "ALL" to embrace all the point-of-sales.
<pre>1; SIN; BKK; ??; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; ?; DC; 0; ?; ?; ?; 0; ????; SQ; ?; </pre>
Let us say we just have the Economy cabin "Y" and Singapour airlines prices ticket for class "Y" and for class "M":
<pre>1; SIN; BKK; ??; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; ?; ?; ?; 0; ????; SQ; Y;</br>2; SIN; BKK; ??; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; ?; ?; ?; 0; ????; SQ; M;</pre>
We need to duplicate the fare rule to take into account both trip types: one-way "OW" and round-trip "RT":
<pre>1; SIN; BKK; OW; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; ?; ?; ?; 0; ????; SQ; Y;</br>2; SIN; BKK; OW; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; ?; ?; ?; 0; ????; SQ; M;</br>3; SIN; BKK; RT; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; ?; ?; ?; 0; ????; SQ; Y;</br>4; SIN; BKK; RT; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; ?; ?; ?; 0; ????; SQ; M;</pre>
The fare options are all set to a default value "T" (meaning true) for the "M" class, "F" (meaning false) for the "Y" class. The fare values (arbitrary currency) are chosen to be all distinct.
<pre>1; SIN; BKK; OW; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; F; F; F; 0; 150; SQ; Y;</br>2; SIN; BKK; OW; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; T; T; T; 0; 100; SQ; M;</br>3; SIN; BKK; RT; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; F; F; F; 0; 220; SQ; Y;</br>4; SIN; BKK; RT; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 0; T; T; T; 0; 160; SQ; M;</pre>
</div>
<h3>How to create a yield input file?</h3>
<div>
Once you have created your fare input file, building the yield one is very simple. Just copy your fare input file and remove everything related to restrictions, advance purchase and stay duration:
<pre>1; SIN; BKK; OW; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 150; SQ; Y;</br>2; SIN; BKK; OW; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 100; SQ; M;</br>3; SIN; BKK; RT; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 220; SQ; Y;</br>4; SIN; BKK; RT; 2011-01-01; 2011-12-31; 00:00; 23:59; ALL; Y; DC; 160; SQ; M;</pre>
</div>
<div id="BOM_TREE" style="display:none;">
	<iframe src="../../common/images/bom_tree.png" width="98%" height="98%" marginWidth="0" marginHeight="0" scrolling="no"></iframe>
</div>
</body>
</html>
