<!doctype html><head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 

<title>User Manual</title>
<meta name="viewport" content="width=1300" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/styles.css"  />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/social.css"  />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/colors-page.css"  />
<script type="text/javascript" src="../../common/style/assets/javascript.js"></script>
<script type="text/javascript" src="../../common/style/assets/js/jquery.min.js"></script>
<script type="text/javascript" src="../../common/style/assets/js/jquery-ui-1.9.1.custom.min.js"></script>
<script>
var jquery = jQuery;
jquery(function() {
        jquery( "#accordion" ).accordion({
            collapsible: true,
            active: false,
            heightStyle:"content"
        });
    });
</script>
<script type="text/javascript" src="../../common/style/assets/js/elixir.js"></script>
<script type="text/javascript" src="../../common/style/assets/js/home-button.js"></script>
<script type="text/javascript" src="../../common/style/assets/js/d3.v2.js"></script>
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/jquery-ui-1.9.1.custom.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/sidebar/sidebar-right.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/sidebar/sidebar-stripe-off.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/width/width-960px.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/title-bar/title-bar-80px.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/title/title-lucida.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/title/title-left.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/slogan/slogan-hidden.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/navigation/nav-font-size-14px.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/navigation/nav-weight-normal.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/navigation/nav-selected-blue.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec1-color-picker.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec1-overlay-none.css" />
<script type="text/javascript" src="../../common/style/assets/js/extraContent2-icons/ec2-icon-chevron-down.js"></script>
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec6-position-bottom.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec6-padding-30.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/extracontent/ec6-button-right.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/background/bkg_overlay_none.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/css/content-list-styles/list-plain.css" />
<link rel='stylesheet' type='text/css' media='all' href='../../common/plugins/stacks/stacks.css' />
<!--[if IE]>
			<link rel='stylesheet' type='text/css' media='all' href='../../common/plugins/stacks/stacks_ie.css' />
		<![endif]-->
<link rel='stylesheet' type='text/css' media='all' href='files/user_manual.css' />
<script type='text/javascript' charset='utf-8' src='files/user_manual.js'></script>
<!--[if gte IE 9]>
		  <style type="text/css">
		    nav#main-navigation, #header-overlay {
		       filter: none;
		    }
		  </style>
		<![endif]-->
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>  
       	<link rel="stylesheet" type="text/css" media="screen" href="../../common/style/assets/ie.css"  />  
		<![endif]-->
</head>
<body onLoad="drawDepedencies()">
<div id="extraContent6">
  <div id="modal-close-button" class="shadow icon-remove"></div>
  <div id="extraContainer6"></div>
  <div class="clearer"></div>
</div>
<div id="title-bar">
  <div class="inner">
    <div id="site-logo"><img src="../../common/images/airsim_logo.png" width="102" height="102" alt="Site logo"/></div>
    <h1>Travel Simulator</h1>
    <h2></h2>
  </div>
  <a href="https://github.com/airsim/metasim" target="_blank">
  	<img align="right" src="../../common/images/forkme_ribbon.png" width="102" height="102" alt="fork_me_ribbon"/>
  </a>
</div>
<nav id="main-navigation" class="shadow">
  <div class="inner">
    <div id="social-badges"><a href="http://www.facebook.com/tvlsim" class="fb" onClick=""></a><a href="https://twitter.com/TravelSimulator" class="twitter" onClick=""></a><a href="http://fr.linkedin.com/in/airsim" class="linkedin" onClick=""></a></div>
    <ul>
      <li><a href="../../index.html" rel="self">Home</a></li>
      <li><a href="#" rel="self" class="currentAncestor">Documentation</a>
        <ul>
          <li><a href="user_manual.html" rel="self" class="current">User Manual</a></li>
          <li><a href="../getting_started/getting_started.html" rel="self">Getting Started</a></li>
          <li><a href="../tutorials/tutorials.html" rel="self">Tutorials</a></li>
          <li><a href="../faq/faq.html" rel="self">FAQ</a></li>
        </ul>
      </li>
      <li><a href="#" rel="self">Community</a>
        <ul>
          <li><a href="../../community/contribute/contribute.html" rel="self">Contribute</a></li>
          <li><a href="../../community/forum/forum.html" rel="self">Forum</a></li>
          <li><a href="../../community/blog/blog.html" rel="self">Blog</a></li>
          <li><a href="../../community/team/team.html" rel="self">Team</a></li>
        </ul>
      </li>
      <li><a href="../../download/download.html" rel="self">Download</a></li>
      <li><a href="../../about/about.html" rel="self">About</a></li>
      <li><a href="../../online_sim/onlinedemo.html" rel="self">Online Demo</a></li>
    </ul>
  </div>
  <div class="clearer"></div>
</nav>
<div id="header">
  <div id="header-overlay">
    <div class="inner">
      <div id="extraContent1">
        <div id="extraContainer1"></div>
        <div class="clearer"></div>
      </div>
    </div>
  </div>
</div>
<div id="extraContent2-trigger"> <i></i> </div>
<div id="extraContent2">
  <div class="inner">
    <div id="extraContainer2"></div>
    <div class="clearer"></div>
  </div>
</div>
<div id="container" class="inner">
  <div id="sidebar-container">
    <div id="sidebar" class="shadow">
      <h3 id="sidebar-title"></h3>
      <h5>More on GitHub</h5>
      <br />
      Go and have a look on <a href="https://github.com/airsim" rel="self">GitHub</a> for discovering the whole list of Travel Simulator repositories.
      <div id="archives"> </div>
      <div id="extraContent4">
        <div id="extraContent4TopperImage"></div>
        <div id="extraContainer4"></div>
        <div class="clearer"></div>
      </div>
      <div class="sidebar-pop-shadow"></div>
    </div>
    <div id="extraContent3">
      <div id="extraContainer3"></div>
    </div>
  </div>
  <div id="content" class="shadow">
    <div id="extraContent5">
      <div id="extraContainer5" class="clearfix"></div>
    </div>
    <div id='stacks_out_47_page5' class='stacks_top'>
      <div id='stacks_in_47_page5' class='stacks_in'>
      <div id='stacks_in_102_page1' class='stacks_in'>
            <h3>Documention</h3>
          </div>
        </div>
        <div id='stacks_out_62_page1' class='stacks_out'>
          <div id='stacks_in_62_page1' class='stacks_in'>
            <div class='stacks_div stacks_float_right'>
              <div class='centered_image' ></div>
            </div>
            Welcome to the documentation page. You should  find all the information you need about Travel Simulator in these pages.<br />
            <br />
            For a quick and high level description of Travel Simulator and all the modules check the <a href="user_manual/user_manual.html" rel="self" title="User Manual">User Manual</a>.<br />
            <br />
            To setup and get started with Travel Simulator or one of the modules have a look at the <a href="getting_started/getting_started.html" rel="self" title="Guides">Guides</a> page where you will find step by step tutorials and screencasts.<br />
            <br />
            Still have a question? The <a href="faq/faq.html" rel="self" title="FAQ">F.A.Q.</a> is here. Still no answer to your question? Then feel free to contact the <a href="../community/team/team.html" rel="self" title="Team">team</a>.</div>
        </div>
      </div> <br>
        <div id='stacks_out_1_page5' class='stacks_out'>
          <div id='stacks_in_1_page5' class='stacks_in'>
            <h3>User manual</h3>
          </div>
        </div>
        <div id='stacks_out_3_page5' class='stacks_out'>
          <div id='stacks_in_3_page5' class='stacks_in'>
            For a quick and high level description of Travel Simulator and all the modules, you are in the right place. <br /><br />
            To setup and get started with Travel Simulator or one of the modules have a look at the <a href="../getting_started/getting_started.html" rel="self" title="Getting Started">Getting Started</a>  page where you will find step by step tutorials and screencasts.<br /><br />
            <div id="accordion" style="padding:0px">
            <h3 style="color:#FFF;">Repositories List</h3>
            <div>
            <strong><a href="https://github.com/airsim/tvlsim" rel="self">TvlSim</a></strong>: C++ Airline Market Simulator. TvlSim uses TraDemGen to generate booking requests, then calls SimCRS to build 
			the corresponding travel solution list (a travel solution is made of a segment path obtained from the schedules, as well as the corresponding prices and availabilities), asks TravelCCM 
			to make a choice among the travel solution list and finally comes back to SimCRS to make a potential sell.<br />
            <br />
            <strong><a href="https://github.com/airsim/trademgen" rel="self">TraDemGen</a></strong>: C++ Travel Demand Generator. Takes a demand input file and generates a stream of requests which 
			uses Event Queue as a temporary storage. In the input file, for each origin-destination and each day, the mean of demand requests number, the trip type (round-trip or one way), the 
			probability to accept restrictions, the willingness to pay, the preferred arrival time, etc. are defined.<br />
            <br />
            <strong><a href="https://github.com/airsim/simcrs" rel="self">SimCRS</a></strong>: C++ Simulated Computer Reservation System (CRS). Plays an intermediary role in the process: calls 
			AirSched to build travel solution lists, calls SimFQT to compute prices, calls AirInv to get availabilities or to make a sell, ...<br />
            <br />
            <strong><a href="https://github.com/airsim/airsched" rel="self">AirSched</a></strong>: C++ Simulated Airline Schedule Service. AirSched takes care of creating schedules from an input 
			file which contains information such as airline code, flight number, departure date, legs (a leg is a direct flight and a flight can contain several legs), boarding time, etc.<br />
            <br />
            <strong><a href="https://github.com/airsim/airinv" rel="self">AirInv</a></strong>: C++ Simulated Airline IT Inventory System. AirInv uses schedule input file to manage airlines 
			Inventories: for example it is called by SimCRS to compute availabilities.<br />
            <br />
            <strong><a href="https://github.com/airsim/rmol" rel="self">RMOL</a></strong>: C++ Revenue Management (RM) Open Library. Contains Revenue Management algorithms. <br />
            <br />
            <strong><a href="https://github.com/airsim/airrac" rel="self">AirRac</a></strong>: C++ Airline Revenue Accounting (RAC) library. Generates a yield cache thanks to a yield input file.<br />
            <br />
            <strong><a href="https://github.com/airsim/sevmgr" rel="self">SEvMgr</a></strong>: C++ Simulation-Oriented Discrete Event Management Library. SEvMgr handles the Event Queue containing 
			all the simulation events. TraDemGen pushes booking requests and cancellations into the queue whereas AirInv adds Inventory snap shots and revenue management events. This Event Queue is 
			the representation of the time, each Event (snapshot, booking request, cancellation...) is sorted according to the time.<br />
            <br />
            <strong><a href="https://github.com/airsim/simfqt" rel="self">SimFQT</a></strong>: C++ Simulator Fare Quote (FQT) Library. Contains all the pricing algorithms to help fill in the travel 
			solutions with the appropriate price.<br />
            <br />
            <strong><a href="https://github.com/airsim/travelccm" rel="self">TravelCCM</a></strong>: C++ Travel Customer Choice Model (CCM) library. TravelCCM plays the role of a customer by 
			choosing the best travel solution from a provided list. The choice can be based on the price, the time constraints, the restrictions...or a mix of all those parameters. This part can 
			be modified in order to simulate at best passenger behaviours.<br />
            <br />
            <strong><a href="https://github.com/airsim/stdair" rel="self">StdAir</a></strong>: C++ Standard Airline IT library. This library is used by all others modules, it contains all business 
			objects useful in Airline IT (for example: Inventory, Fare Family, Booking Class, Booking Request, Cancellation, ...).<br />
            <br />
            <strong><a href="https://github.com/airsim/avlcal" rel="self">AvlCal</a></strong>: C++ Simulated Availability Calculator Library.<br />
            <br />
            <strong><a href="https://github.com/airsim/simcrs" rel="self">SimLFS</a></strong>: C++ Simulated Low Fare Search (LFS) System.<br />
            <br />
            <strong><a href="https://github.com/airsim/metasim" rel="self">MetaSim</a></strong>: Helper containing all simulator components.<br />
            <br />
            <strong><a href="https://github.com/airsim/simrds" rel="self">SimRDS</a></strong>: Simulation Reference Data Sets.<br />
            <br />
            <strong><a href="https://github.com/airsim/Global-Documentation" rel="self">Global-Documentation</a></strong>: General documentation for the overall project and community.<br />
            <br />
            <strong><a href="https://github.com/airsim/demand-modelling" rel="self">Demand-Modelling</a></strong>: Demand Modelling studies.<br />
            <br />
            <strong><a href="https://github.com/airsim/Dynamic-Pricing-Studies" rel="self">Dynamic-Pricing-Studies</a></strong>: Dynamic Pricing studies.<br />
            <br />
            <strong><a href="https://github.com/airsim/airsim.github.com" rel="self">Travel Simulator</a></strong>: this very website.<br />
            </div>
            <h3 style="color:#FFF;">Dependencies tree</h3>
            <div id="dtreesvg">
            Dependencies tree
            </div>
            <h3 style="color:#FFF;">Simulation input files</h3>
            <div>
            Here is a short description of each input file you may have to create when dealing with one or more Travel Simulator modules.
            		<ul class="disc">
            			<li><a href="javascript:showPopup('#DEMAND_POPUP')">Demand Input File</a></li>
            			<li><a href="javascript:showPopup('#SCHEDULE_POPUP')">Schedule Input File</a></li>
            			<li><a href="javascript:showPopup('#FARE_POPUP')">Fare Input File</a></li>
            			<li><a href="javascript:showPopup('#YIELD_POPUP')">Yield Input File</a></li>
            		</ul>
            	</div>	
            </div>
          </div>	
        </div>
      </div>
    </div>
    <div class="clearer"></div>
    <div id="breadcrumb"></div>
    <div class="content-pop-shadow"></div>
  </div>
  <footer>&copy; 2012 Travel Simulator</footer>
</div>

<div id="DEMAND_POPUP" title="Demand Input File" style="display:none">
	The demand input file is composed of one or more lines, each line representing a demand stream:<br/>
	<pre>2009-01-01; 2011-03-03; 1000000; SIN; BKK; Y; SIN:0.7, BKK:0.2, row:0.1; DF:0.1, DN:0.3, IF:0.4, IN:0.2; RO:0.6, RI:0.2, OW:0.2;<br/>0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35; P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; 0.5; 50; 0.5; 50;<br>06:0, 07:0.1, 09:0.3, 17:0.4, 19:0.8, 20:0.95, 22:1; 160; 15:0, 60:1; 330:0, 40:0.2, 20:0.55, 10:0.75, 1:1; N, 49.0, 7.0;</pre>
	Let's have a look at each attribute of the demand stream above.
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Start date of the departure date period (yyyy-mm-dd)<br/>End date of the departure date period (yyyy-mm-dd)<br/>Day of the week</pre></td>
	<td><pre>2009-01-01;<br/>2011-03-03;<br/>1000000;</pre></td>
	</tr>
	</table>
	Those three attributes are used to compute the list of dates at which passengers are willing to travel. In this example, we are going to generate booking requests for each Monday between 2009-01-01 and 2011-03-03.<br/>
	For this demand stream, passengers wish to travel from a certain origin to a certain destination within a certain cabin:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Origin (3-char airport code)<br/>Destination (3-char airport code) <br/>Preferred cabin ('F' for First, 'C' for Business, 'Y' for Economy)</pre></td>
	<td><pre>SIN;<br/>BKK;<br/>Y;</pre></td>
	</tr>
	</table>
	The next parameters define distributions with Probability Masses:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Point-of-sale (row stands for rest of the world)<br/>Channel (D=direct, I=indirect, N=online, F=offline)<br/>Trip type (RO=outbound of round-trip, RI=inbound, OW=one way)<br/>Stay duration (number of days)<br/>Frequent flyer (P=Platinum, G=Gold, S=Silver, M=Member, N=None)<br/>Change fees restriction and its disutility value<br/>Non refundable restriction and its disutility value</pre></td>
	<td><pre>SIN:0.7, BKK:0.2, row:0.1;<br/>DF:0.1, DN:0.3, IF:0.4, IN:0.2; <br/>RO:0.6, RI:0.2, OW:0.2; <br/>0:0.1, 1:0.1, 2:0.15, 3:0.15, 4:0.15, 5:0.35; <br/>P:0.01, G:0.05, S:0.15, M:0.3, N:0.49; <br/>0.5; 50; <br/>0.5; 50; </pre></td>
	</tr>
	</table>
	Then we encounter parameters defined as continuous cumulative distributions:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Preferred departure time (hh.mm)<br/>WTP (moneraty value)<br/>Value of time<br/>Arrival pattern (DTD as a positive value)<br/></td>
	<td><pre>06:0, 07:0.1, 09:0.3, 17:0.4, 19:0.8, 20:0.95, 22:1;<br/>160<br/>15:0, 60:1; <br/>330:0, 40:0.2, 20:0.55, 10:0.75, 1:1; </pre></td>
	</tr>
	</table>
	Finally, we find the type of distribution followed by the number of requests to be generated for each specified departure date:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Distribution of number of requests</pre></td>
	<td><pre>N, 49.0, 7.0</pre></td>
	</tr>
	</table>
</div>
<div id="SCHEDULE_POPUP" title="Schedule Input File" style="display:none">
	The schedule input file is composed of one or more lines, each line representing a flight period:<br/>
	<pre>SQ; 12; 2009-01-01; 2011-03-03; 1001000; SIN; BKK; 08:30; 11:10; 03:40; Y; 200; 0; Y; YBM; 1; F1; D1; YBM;<br/>SQ; 12; 2012-04-27; 2012-05-03; 1000000; SIN; BKK; 09:20; 12:00; 03:40; Y; 150; 0; Y; YBM; 1; F1; D1; YBM;</pre>
	The first parameters of each line describe a specific schedule:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Airline code<br/>Flight number<br/>Start date of the departure date period (yyyy-mm-dd)<br/>End date of the departure date period (yyyy-mm-dd)<br/>Day of week<br/>Origin (3-char airport code)<br/>Destination (3-char airport code) <br/>Boarding time (hh.mm)<br/>Landing time (hh.mm)<br/>Elapsed time (hh.mm)</pre></td>
	<td><pre>SQ;<br/>12;<br/>2009-01-01;<br/>2011-03-03;<br/>1001000;<br/>SIN;<br/>BKK;<br/>08:30;<br/>11:10;<br/>03:40;</pre></td>
	</tr>
	</table>
	In this example, Singapore Airline (airline code "SQ") is operating a flight numbered 12 from Singapore to Bangkok each Monday and Thursday between 2009-01-01 and 2011-03-03. <br/>
	The remaining parameters deal with cabin, capacity, fare family and booking classes:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Cabin ('F' for First, 'C' for Business, 'Y' for Economy)<br/>Cabin capacity<br/>Segment specificity ID<br/>Cabin code<br/>Class code List<br/>Fare Family ID<br/>FRAT5 Curve ID<br/>Fare family Disutility Curve ID<br/>Class code List</pre></td>
	<td><pre>Y; <br/>200; <br/>0; <br/>Y; <br/>YBM; <br/>1; <br/>F1; <br/>D1; <br/>YBM;</pre></td>
	</tr>
	</table>
</div>
<div id="FARE_POPUP" title="Fare Input File" style="display:none">
	The fare input file structure should look like the following sample:<br/>
	<pre>1; SIN; BKK; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; SIN; Y; IN; 7; T; T; T; 3; 150.0; SQ; Y;<br/>2; SIN; BKK; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; BKK; Y; IN; 7; T; T; T; 3; 150.0; SQ; Y;<br/>3; SIN; HND; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; SIN; Y; IN; 7; T; T; T; 3; 150.0; SQ; Y;<br/>4; SIN; HND; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; HND; Y; IN; 7; T; T; T; 3; 150.0; SQ; Y;<br/>5; SIN; HND; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; ROW; Y; IN; 7; T; T; T; 3; 150.0; SQ; Y;<br/>6; SIN; BKK; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; SIN; Y; IF; 7; T; T; T; 3; 150.0; SQ; Y;<br/>7; SIN; BKK; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; BKK; Y; IF; 7; T; T; T; 3; 150.0; SQ; Y;<br/>8; SIN; HND; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; SIN; Y; IF; 7; T; T; T; 3; 150.0; SQ; Y;<br/>9; SIN; HND; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; HND; Y; IF; 7; T; T; T; 3; 150.0; SQ; Y;<br/>10; SIN; HND; OW; 2010-01-15; 2010-12-31; 00:00; 23:59; ROW; Y; IF; 7; T; T; T; 3; 150.0; SQ; Y;</pre>
	Each line represents a fare rule, identified by the first number of the line:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Number of the fare rule<br/>Origin (3-char airport code)<br/>Destination (3-char airport code)<br/>Trip type ('RT'=round-trip and 'OW'=one way))<br/>Start and End date of the validity period (yyyy-mm-dd)<br/>Start and End time of the validity period (hh:mm)<br/>Point-of-sale<br/>Chosen cabin ('F' for First, 'C' for Business, 'Y' for Economy)<br/>Channel ('D'=direct, 'I'=indirect, 'N'=online, 'F'=offline)<br/></pre></td>
	<td><pre>1;<br/>SIN;<br/>BKK;<br/>OW;<br/>2010-01-15; 2010-12-31;<br/>00:00; 23:59;<br/>SIN;<br/>Y;<br/>IN;</pre></td>
	</tr>
	</table>
	The next parameters define the fare and its corresponding fare options:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Advanced purchase (number of days)<br/>Saturday night stay option ('T' stands for true and 'F' stands for false)<br/>Change fees option ('T' stands for true and 'F' stands for false)<br/>Refundable criterion ('T' stands for true and 'F' stands for false)<br/>Minimum stay duration (number of days)<br/>Fare amount</pre></td>
	<td><pre>7;<br/>T;<br/>T;<br/>T;<br/>3;<br/>150;</pre></td>
	</tr>
	</table>
	Finally comes the airline and the class for which the fare is applicable:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Operating airline code<br/>Chosen booking class</pre></td>
	<td><pre>SQ;<br/>Y;</pre></td>
	</tr>
	</table>
	To sum up, each line of the fare input file tells us the price a customer will be asked to pay according to a lot of criteria such as:
	<ul class="disc">
		<li>the origin and destination of his travel (for instance from Singapore to Bangkok in the first fare rule).</li>
		<li>the type of his travel.</li>
		<li>the date and time he is willing to travel (each fare rule has a date range and a time range of validity).</li>
		<li>the place where he is buying the ticket, i.e. the point of sale ("ALL" meaning all points of sale).</li>
		<li>his chosen cabin.</li>
		<li>the channel of the booking described by a two letters code ("DC" meaning all different channels).</li>
		<li>the date when he wants to buy the ticket, i.e. the advanced purchase required in number of days.</li>
		<li>the saturday night stay option, i.e. is he staying a Saturday night between his inbound trip and his outbound one?</li>
		<li>the change fees option, i.e. are there fees to change his ticket?</li>
		<li>the refundable criterion, i.e. is the ticket refundable?</li>
		<li>the number of days he is willing to stay at the destination location (each fare rule has a minimum stay requirement in number of days).</li>
		<li>the operating airline and the chosen booking class.</li>
	</ul>
</div>
<div id="YIELD_POPUP" title="Yield Input File" style="display:none">
	The yield input file structure should look like the following sample:<br/>
	<pre>1; SIN; BKK; OW; 2009-01-01; 2012-06-01; 00:00; 23:59; ALL; Y; DC; 400.0; SQ; Y;<br/>2; SIN; BKK; OW; 2009-01-01; 2012-06-01; 00:00; 23:59; ALL; Y; DC; 250.0; SQ; B;<br/>3; SIN; BKK; OW; 2009-01-01; 2012-06-01; 00:00; 23:59; ALL; Y; DC; 160.0; SQ; M;<br/>4; SIN; BKK; RT; 2009-01-01; 2012-06-01; 00:00; 23:59; ALL; Y; DC; 500.0; SQ; Y;<br/>5; SIN; BKK; RT; 2009-01-01; 2012-06-01; 00:00; 23:59; ALL; Y; DC; 300.0; SQ; B;<br/>6; SIN; BKK; RT; 2009-01-01; 2012-06-01; 00:00; 23:59; ALL; Y; DC; 200.0; SQ; M;</pre>
	Each line represents a yield rule, identified by the first number of the line:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Number of the yield rule<br/>Origin (3-char airport code)<br/>Destination (3-char airport code)<br/>Trip type ('RT'=round-trip and 'OW'=one way)<br/>Start and End date of the validity period (yyyy-mm-dd)<br/>Start and End time of the validity period (hh:mm)<br/>Point-of-sale ('ALL' meaning all points of sale).<br/>Chosen cabin ('F' for First, 'C' for Business, 'Y' for Economy)<br/>Channel ('DC' meaning all different channels)<br/></pre></td>
	<td><pre>1;<br/>SIN;<br/>BKK;<br/>OW;<br/>2009-01-01; 2012-06-01;<br/>00:00; 23:59;<br/>SIN;<br/>Y;<br/>IN;</pre></td>
	</tr>
	</table>
	The next parameter is the yield value:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Yield amount</pre></td>
	<td><pre>400;</pre></td>
	</tr>
	</table>
	Finally comes the airline and the class for which the yield is applicable:
	<table width="100%" border="0" style="font-size: 1em;">
	<tr>
	<td width="540px"><pre>Operating airline code<br/>Chosen booking class</pre></td>
	<td><pre>SQ;<br/>Y;</pre></td>
	</tr>
	</table>
	To sum up, each line of the yield input file tells us the value (useful for the revenue management system) a customer will be given according to a lot of criteria such as:
	<ul class="disc">
		<li>the origin and destination of his travel (for instance from Singapore to Bangkok in the first yield rule).</li>
		<li>the type of his travel.</li>
		<li>the date and time he is traveling (each yield rule has a date range and a time range of validity).</li>
		<li>the place where he is buying the ticket, i.e. the point of sale.</li>
		<li>his chosen cabin.</li>
		<li>the channel of the booking described by a two letters code.</li>
		<li>the operating airline and the chosen booking class.</li>
	</ul>
</div>
</body>
<script>
	function showPopup(divId)
	{
		jquery( divId ).dialog({
			width: 970,
			modal: true,
			show: "blind"
		});
	}
		
	function drawDepedencies()
	{
		var width = 400,
			height = 500,
			radius = Math.min(width, height) / 2,
			color = d3.scale.category20c();
		
		var svg = d3.select("#dtreesvg-").append("svg")// remove "-" when completed
			.attr("width", width)
			.attr("height", height)
		  	.append("g")
			.attr("transform", "translate(" + width / 2 + "," + height * .52 + ")");
		
		var partition = d3.layout.partition()
			.sort(null)
			.size([2 * Math.PI, radius * radius])
			.value(function(d) { return 1; });
		
		var arc = d3.svg.arc()
			.startAngle(function(d) { return d.x; })
			.endAngle(function(d) { return d.x + d.dx; })
			.innerRadius(function(d) { return Math.sqrt(d.y); })
			.outerRadius(function(d) { return Math.sqrt(d.y + d.dy); });
		
		d3.json("../../common/depedencies.json", function(root) {
			var path = svg.datum(root).selectAll("path")
			.data(partition.nodes)
			.enter().append("path")
			.attr("display", function(d) { return d.depth ? null : "none"; }) // hide inner ring
			.attr("d", arc)
			.style("stroke", "#fff")
			.style("fill", function(d) { return color((d.children ? d : d.parent).name); })
			.style("fill-rule", "evenodd")
			.each(stash);
		
		  d3.selectAll("input").on("change", function change() {
			var value = this.value === "count"
				? function() { return 1; }
				: function(d) { return d.size; };
		
			path
				.data(partition.value(value).nodes)
			  	.transition()
				.duration(1500)
				.attrTween("d", arcTween);
		  });
		});
		
		// Stash the old values for transition.
		function stash(d) {
		  d.x0 = d.x;
		  d.dx0 = d.dx;
		}
		
		// Interpolate the arcs in data space.
		function arcTween(a) {
		  var i = d3.interpolate({x: a.x0, dx: a.dx0}, a);
		  return function(t) {
			var b = i(t);
			a.x0 = b.x;
			a.dx0 = b.dx;
			return arc(b);
		  };
		}
		
		d3.select(self.frameElement).style("height", height + "px");
	}
</script>
</html>